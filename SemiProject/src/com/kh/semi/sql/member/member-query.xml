<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

<!-- 회원가입 -->
<entry key="signUp">
INSERT INTO MEMBER
VALUES(SEQ_MNO.NEXTVAL,
		?, ?, ?, ?, DEFAULT, DEFAULT, DEFAULT, DEFAULT)
</entry>


<!-- 이메일 중복 체크 -->
<entry key="emailDupCheck">
SELECT COUNT(*) FROM MEMBER
WHERE MEM_EMAIL = ?
AND MEM_STATUS = 'Y'
</entry>

<!-- 별명 중복 체크 -->
<entry key="nameDupCheck">
SELECT COUNT(*) FROM MEMBER
WHERE MEM_NM = ?
AND MEM_STATUS = 'Y'
</entry>

<!--  로그인 맴버 조회 -->
<entry key="loginMember">
SELECT MEM_NO , MEM_EMAIL , MEM_NM , MEM_PHONE , MEM_GRADE , MEM_STATUS, MEM_CHECK , MEM_ENROLL_DATE
FROM MEMBER
WHERE MEM_EMAIL = ?
AND MEM_PWD = ?
AND MEM_STATUS = 'Y'

</entry>

<!-- 서비스 코드 검색 -->
<entry key="getServCode">
SELECT SERV_CODE FROM SUBSERVICE
WHERE SERV_NM = ?
</entry>

<!-- 회원 번호 검색 -->
<entry key="getMemNo">
SELECT MEM_NO FROM MEMBER
WHERE MEM_EMAIL = ?
</entry>

<!-- 구독 서비스 등록 -->
<entry key="insertMemSub">
INSERT INTO MEM_SUB(MEM_NO, SERV_CODE, SUB_ST_DT, PRICE, SUB_END_DT)
VALUES (?, ?, ?, ?, (ADD_MONTHS(?, 1)-1))
</entry>
<!-- 정지회원 사유 출력 -->
<entry key="getReportReason">
SELECT REPORT_DT, REPORT_REASON FROM REPORT
WHERE MEM_NO = ?
</entry>



<!-- 회원정보수정 -->
<entry key="updateMember">

UPDATE MEMBER SET
MEM_NM =  ?,
MEM_PHONE =  ?
WHERE MEM_NO = ?



</entry>

<!-- 현재 비밀번호 확인 -->
<entry key="checkCurrentPwd">
SELECT COUNT(*) FROM MEMBER
WHERE MEM_NO = ?
AND MEM_PWD = ?

</entry>
<!--  비밀번호 변경 -->
<entry key="updatePwd">
UPDATE MEMBER SET
MEM_PWD = ?
WHERE MEM_NO = ?
</entry>

<!-- 회원탈퇴 -->
<entry key="updateStatus">
UPDATE MEMBER SET
MEM_STATUS = 'N'
WHERE MEM_PWD = ?
AND MEM_NO = ?
 
</entry>


<!-- 프리보드 조회 -->

<entry key="selectfBoardList">

SELECT BOARD_NO ,BOARD_TITLE , MEM_NM , READ_COUNT ,BOARD_CREATE_DT
FROM F_BOARD
JOIN MEMBER ON(BOARD_WRITER = MEM_NO)
WHERE BOARD_WRITER = ?
</entry>

<!-- 공동구매 게시판 조회 -->

<entry key="selectjBoardList">

SELECT BOARD_NO ,BOARD_TITLE , MEM_NM , READ_COUNT ,BOARD_CREATE_DT ,JT_CT_NM
FROM J_BOARD
JOIN MEMBER ON(BOARD_WRITER = MEM_NO)
JOIN J_CATEGORY ON (CATEGORY_CODE = JT_CT_NO)
WHERE BOARD_WRITER = ?

</entry>

<!-- 비공개 건의 게시판 조회 -->
<entry key="selectpBoardList">

SELECT BOARD_NO ,BOARD_TITLE , MEM_NM , READ_COUNT ,BOARD_CREATE_DT ,PRIV_CT_NM
FROM P_BOARD
JOIN MEMBER ON(BOARD_WRITER = MEM_NO)
JOIN P_CATEGORY ON (CATEGORY_CODE = PRIV_CT_NO)
WHERE BOARD_WRITER = ?

</entry>


<!-- 자유게시판 댓글 조회 -->
<entry key="selectfReplyList">

SELECT REPLY_NO , REPLY_CONTENT , REPLY_CREATE_DT
FROM F_REPLY
JOIN MEMBER ON(REPLY_WRITER = MEM_NO)
WHERE REPLY_WRITER = ?


</entry>
<!-- 공동구매 게시판 댓글 조회 -->
<entry key="selectjReplyList">
SELECT REPLY_NO , REPLY_CONTENT , REPLY_CREATE_DT
FROM J_REPLY
JOIN MEMBER ON(REPLY_WRITER = MEM_NO)
WHERE REPLY_WRITER = ?

</entry>
<!-- 비공개 건의 게시판 댓글 조회 -->
<entry key="selectpReplyList">
SELECT REPLY_NO , REPLY_CONTENT , REPLY_CREATE_DT
FROM P_REPLY
JOIN MEMBER ON(REPLY_WRITER = MEM_NO)
WHERE REPLY_WRITER = ?

</entry>

<!-- 자유 게시판 댓글  -->
<entry key="selectfBoardNo">

SELECT BOARD_NO 
FROM F_BOARD
JOIN F_REPLY ON (BOARD_NO = PARENT_BOARD_NO)
WHERE REPLY_NO = ?


</entry>

<!-- 공동 댓글 -->
<entry key="selectjBoardNo">

SELECT BOARD_NO 
FROM J_BOARD
JOIN J_REPLY ON (BOARD_NO = PARENT_BOARD_NO)
WHERE REPLY_NO = ?


</entry>

<!-- 비공개 댓글 -->
<entry key="selectpBoardNo">

SELECT BOARD_NO 
FROM P_BOARD
JOIN P_REPLY ON (BOARD_NO = PARENT_BOARD_NO)
WHERE REPLY_NO = ?


</entry>




</properties>
